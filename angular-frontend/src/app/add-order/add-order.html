<div class="order-form">
  <div class="add-order">
  <h2>üß∫ Add New Order</h2>

  <!-- Customer Info -->
  <label>Room Number</label>
  <input [(ngModel)]="roomNumber" placeholder="Room number" />

  <label>Customer Name</label>
  <input [(ngModel)]="customerName" placeholder="Customer name" />

  <label>Contact Number</label>
  <input [(ngModel)]="contactNumber" placeholder="Phone number" />

  <label>Expected Delivery Date</label>
  <input type="date" [(ngModel)]="expectedDate" [min]="today" />

  <hr />

  <!-- Item Selection -->
  <h3>‚ûï Add Item</h3>

  <label>Item Type</label>
  <select [(ngModel)]="newItem.type" (change)="updatePrice()">
    <option value="" disabled selected>Select item</option>
    <option *ngFor="let item of availableItems" [value]="item">{{ item }}</option>
  </select>

  <label>Service Type</label>
  <select [(ngModel)]="newItem.serviceType" (change)="updatePrice()">
    <option *ngFor="let service of serviceTypes" [value]="service">{{ service }}</option>
  </select>

  <label>Quantity</label>
  <input type="number" [(ngModel)]="newItem.quantity" min="1" />

  <p><strong>Price per item:</strong> {{ newItem.price | currency }}</p>

  <button (click)="addItem()">Add to Order</button>

  <hr />

  <!-- Order Summary -->
  <h3>üßæ Order Summary</h3>
  <table *ngIf="items.length > 0">
    <thead>
      <tr>
        <th>Item</th>
        <th>Service</th>
        <th>Qty</th>
        <th>Price</th>
        <th>Total</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of items; let i = index">
        <td>{{ item.type }}</td>
        <td>{{ item.serviceType }}</td>
        <td>{{ item.quantity }}</td>
        <td>{{ item.price | currency }}</td>
        <td>{{ item.price * item.quantity | currency }}</td>
        <td>
          <button (click)="editItem(i)">‚úèÔ∏è</button>
          <button (click)="removeItem(i)">üóëÔ∏è</button>
        </td>
      </tr>
    </tbody>
  </table>

  <p *ngIf="items.length"><strong>Total Amount:</strong> {{ totalAmount | currency }}</p>

  <hr />

  <!-- Payment Info -->
  <label>Payment Method</label>
  <select [(ngModel)]="paymentMethod">
    <option value="Cash">Cash</option>
    <option value="POS">POS</option>
    <option value="Transfer">Transfer</option>
  </select>

  <label>
    <input type="checkbox" [(ngModel)]="isPaidMarked" />
    Mark as Paid
  </label>

  <button (click)="saveOrder()">üíæ Save Order</button>

  <p *ngIf="message">{{ message }}</p>

  <!-- <h3>Add Laundry Order</h3>
<div class="customer-details">
<section style="margin-right: 20px;">
<label for="user">ROOM NO:</label>
  <input [(ngModel)]="roomNumber" name="roomNumber" placeholder="Room Number" required />
 </section>
 <section style="margin-right: 20px;">
  <label for="user">CUSTOMER NAME:</label>
  <input [(ngModel)]="customerName" name="customerName" placeholder="Customer Name" required />
  </section>
  <section style="margin-right: 20px;">
  <label for="user">CONTACT NUMBER:</label>
  <input [(ngModel)]="contactNumber" name="contactNumber" placeholder="Contact Number" required />
</section>
</div>
  <label for="user">EXPECTED COLLECTION DATE:</label>
  <input [(ngModel)]="expectedDate" name="expectedDate" type="date" placeholder="Expected Collection Date" required />
   <h4>Add Item</h4>
  <div class="additems">
<section style="margin-right: 20px;">
<label for="type">Item Type:</label>
<input [(ngModel)]="newItem.type" name="type" placeholder="Item Type" required />
</section>

<section style="margin-right: 20px;">
<label for="quantity">Quantity:</label>
<input [(ngModel)]="newItem.quantity" name="quantity" type="number" placeholder="Quantity" required />
</section>
<section style="margin-right: 10px;">
<label for="price">Price:</label>
<input [(ngModel)]="newItem.price" name="price" type="number" placeholder="Price" required />
</section>
<section style="margin-right: 20px;">
<label for="serviceType">Service Type:</label>
<select [(ngModel)]="newItem.serviceType" name="serviceType" required>
  <option value="Wash_only">Wash only</option>
  <option value="Pressing_only">Pressing only</option>
  <option value="Wash_And_Iron">Wash & Iron</option>
  <option value="Others">Others</option>
</select>
</section>
</div>

<button (click)="addItem()" id="addItemsButton">Add Item</button>

  <ul>
<li *ngFor="let item of items; let i = index">
  {{ item.quantity }} √ó {{ item.type }} [{{ item.serviceType }}] &#64; ‚Ç¶{{ item.price }} = ‚Ç¶{{ item.quantity * item.price }}
  <button (click)="editItem(i)">Edit</button>
  <button (click)="removeItem(i)">Remove</button>
</li>
  </ul>
<h4>Payment Info</h4>
<div class="paymentInfor">
<section class="margin-right: 20px;">
<select [(ngModel)]="paymentMethod">
  <option value="Cash">Cash</option>
  <option value="POS">POS</option>
  <option value="Transfer">Transfer</option>
</select>
</section>

<section style="margin-right: 10px;">
<label>Mark as Paid</label>
  <input type="checkbox" [(ngModel)]="isPaidMarked" />
</section>
</div>

<p><strong>Total Amount:</strong> ‚Ç¶{{ totalAmount }}</p>

  <button (click)="saveOrder()">Save Order</button>
  <button (click)="resetForm()">üîÑ Refresh</button>

  <p *ngIf="message">{{ message }}</p> -->

  <div *ngIf="showReceipt" class="receipt">
    <h3>üßæ Laundry Receipt</h3>
    <p><strong>Merchant Copy</strong></p>
    <p>Room: {{ roomNumber }}</p>
    <p>Name: {{ customerName }}</p>
    <p>Contact: {{ contactNumber }}</p>
    <p>Date: {{ today }}</p>
    <p>Expected Collection: {{ expectedDate }}</p>
    <p>Handled By: {{ user.username }}</p>
 <ul>
  <li *ngFor="let item of items">
    {{ item.quantity }} √ó {{ item.type }} [{{ item.serviceType }}] &#64; ‚Ç¶{{ item.price }} = ‚Ç¶{{ item.quantity * item.price }}
  </li>
</ul>
    <p><strong>Total: ‚Ç¶{{ totalAmount }}</strong></p>
    <hr />
<p>______________________________________________________________</p>
    

    <h3>üßæ Laundry Receipt</h3>
 <p><strong>Customer Copy</strong></p>
    <p>Room: {{ roomNumber }}</p>
    <p>Name: {{ customerName }}</p>
    <p>Contact: {{ contactNumber }}</p>
    <p>Date: {{ today }}</p>
    <p>Expected Collection: {{ expectedDate }}</p>
    <p>Handled By: {{ user.username }}</p>
 <ul>
  <li *ngFor="let item of items">
    {{ item.quantity }} √ó {{ item.type }} [{{ item.serviceType }}] &#64; ‚Ç¶{{ item.price }} = ‚Ç¶{{ item.quantity * item.price }}
  </li>
</ul>

    <p><strong>Total: ‚Ç¶{{ totalAmount }}</strong></p>
    <hr />
    <button (click)="printReceipt()">üñ®Ô∏è Print Receipt</button>
  </div>
</div>


