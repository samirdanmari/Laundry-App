<div class="report-card">
  <h3>ğŸ“… Sales Report</h3>

  <label for="statusFilter">Payment Status:</label>
  <select id="statusFilter" [(ngModel)]="statusFilter">
    <option value="All">All</option>
    <option value="Paid">Paid</option>
    <option value="Unpaid">Unpaid</option>
    <option value="Unconfirmed">Unconfirmed</option>
  </select>

  <label for="reportType">Report Type:</label>
  <select id="reportType" [(ngModel)]="reportType">
    <option value="daily">ğŸ—“ï¸ Daily</option>
    <option value="range">ğŸ“† Date Range</option>
  </select>

  <input [(ngModel)]="startDate" type="date" placeholder="Start Date" />
  <input [(ngModel)]="endDate" type="date" placeholder="End Date" />
  <button (click)="fetchReport()">Generate Report</button>
<div id="print-section">
  <div *ngIf="report">
    <h4>{{ report.startDate }} â†’ {{ report.endDate }}</h4>
    <p>ğŸ§º Total Orders: {{ report.totalOrders }}</p>
    <p>ğŸ’° All Revenue: {{report.totalRevenue.toLocaleString()}}</p>
    <p>ğŸ’° Paid Revenue: â‚¦{{ report.totalPaid.toLocaleString() }}</p>
    <p>â³ Unconfirmed: â‚¦{{ report.unconfirmedTotal.toLocaleString() }}</p>
    <p>âŒ Unpaid: â‚¦{{ report.unpaidTotal.toLocaleString() }}</p>
    <p>ğŸ“Š Paid Count: {{ report.paidCount }}</p>
    <p>ğŸ“ˆ Avg Daily Revenue: â‚¦{{ report.avgPerDay.toLocaleString() }}</p>
  </div>

  <!-- DAILY REPORT -->
  <div *ngIf="report?.reportType === 'daily'">
    <h4>ğŸ“… Daily Breakdown</h4>
    <table>
      <thead>
        <tr><th>Room</th><th>Name</th><th>Amount (â‚¦)</th><th>Status</th></tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of report?.table as dailyRows">
          <td>{{ row.room }}</td>
          <td>{{ row.name }}</td>
          <td>â‚¦{{ row.amount.toLocaleString() }}</td>
          <td>{{ row.payment_status }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- RANGE REPORT -->
<div *ngIf="report?.reportType === 'range'">
  <h4>ğŸ“† Date Range Summary</h4>
  <table>
    <thead>
      <tr>
        <th>Date</th>
        <th>âœ… Paid (â‚¦)</th>
        <th>âŒ Unpaid (â‚¦)</th>
        <th>â³ Unconfirmed (â‚¦)</th>
        <th>ğŸ“Š Total (â‚¦)</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of report?.rangeTable || []">
        <td>{{ row.date }}</td>
        <td>â‚¦{{ row.paid.toLocaleString() }}</td>
        <td>â‚¦{{ row.unpaid.toLocaleString() }}</td>
        <td>â‚¦{{ row.unconfirmed.toLocaleString() }}</td>
        <td>â‚¦{{ row.total.toLocaleString() }}</td>
      </tr>
    </tbody>
  </table>
</div>
  </div>
  <button (click)="printReport()" class="print-btn">ğŸ–¨ï¸ Print Report</button>
</div>
