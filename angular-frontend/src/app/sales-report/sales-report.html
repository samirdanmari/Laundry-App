<div class="report-card">
  <h3>ğŸ“… Sales Report</h3>

  <label for="reportType">Report Type:</label>
  <select id="reportType" [(ngModel)]="reportType">
    <option value="daily">ğŸ—“ï¸ Daily</option>
    <option value="range">ğŸ“† Date Range</option>
  </select>

  <input [(ngModel)]="startDate" type="date" placeholder="Start Date" />
  <input [(ngModel)]="endDate" type="date" placeholder="End Date" />
  <button (click)="fetchReport()">Generate Report</button>

  <div *ngIf="report">
    <h4>{{ report.startDate }} â†’ {{ report.endDate }}</h4>
    <p>ğŸ§º Total Orders: {{ report.totalOrders }}</p>
    <p>ğŸ’° Paid Revenue: â‚¦{{ report.totalPaid.toLocaleString() }}</p>
    <p>â³ Unconfirmed: â‚¦{{ report.unconfirmedTotal.toLocaleString() }}</p>
    <p>âŒ Unpaid: â‚¦{{ report.unpaidTotal.toLocaleString() }}</p>
    <p>ğŸ“Š Paid Count: {{ report.paidCount }}</p>
    <p>ğŸ“ˆ Avg Daily Revenue: â‚¦{{ report.avgPerDay.toLocaleString() }}</p>
  </div>

  <div *ngIf="report?.reportType === 'daily'">
    <h4>ğŸ“… Daily Breakdown</h4>
    <table>
      <thead><tr><th>Room</th><th>Name</th><th>Amount (â‚¦)</th></tr></thead>
      <tbody>
        <tr *ngFor="let row of report?.table">
          <td *ngIf="'room' in row">{{ row.room }}</td>
          <td *ngIf="'name' in row">{{ row.name }}</td>
          <td>â‚¦{{ row.amount.toLocaleString() }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="report?.reportType === 'range'">
    <h4>ğŸ“† Daily Totals</h4>
    <table>
      <thead>
        <tr><th>Date</th>
        <th>Amount (â‚¦)</th></tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of report?.table">
          <td *ngIf="'date' in row">{{ row.date }}</td>
          <td>â‚¦{{ row.amount.toLocaleString() }}</td>
        </tr>
      </tbody>
    </table>
  </div>
  <button (click)="printReport()" class="print-btn">ğŸ–¨ï¸ Print Report</button>

</div>
